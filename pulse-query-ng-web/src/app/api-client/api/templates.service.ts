/**
 * Hospital Analytics Platform
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { Inject, Injectable, Optional } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Observable } from 'rxjs';

import { BASE_PATH } from '../variables';
import { Configuration } from '../configuration';
import { BaseService } from '../api.base.service';
import { TemplateResponse } from '../model/template-response';

/**
 * Service for accessing the Analytics Template Registry.
 */
@Injectable({
  providedIn: 'root'
})
export class TemplatesService extends BaseService {

    constructor(
      protected httpClient: HttpClient, 
      @Optional() @Inject(BASE_PATH) basePath: string|string[], 
      @Optional() configuration?: Configuration
    ) {
        super(basePath, configuration);
    }

    /**
     * List Templates
     * Retrieve a list of available widget templates.
     * @param category Optional filter by category name.
     * @param search Optional search term for server-side filtering.
     * @param limit Maximum number of records to return (default 30).
     */
    public listTemplatesApiV1TemplatesGet(
      category?: string, 
      search?: string,
      limit: number = 30,
      observe: any = 'body', 
      reportProgress: boolean = false
    ): Observable<Array<TemplateResponse>> {

        let localVarHeaders = this.defaultHeaders;
        localVarHeaders = this.configuration.addCredentialToHeaders('OAuth2PasswordBearer', 'Authorization', localVarHeaders, 'Bearer ');

        let localVarQueryParameters = new URLSearchParams();
        if (category) {
            localVarQueryParameters.set('category', category);
        }
        if (search) {
            localVarQueryParameters.set('search', search);
        }
        if (limit) {
            localVarQueryParameters.set('limit', limit.toString());
        }

        const queryStr = localVarQueryParameters.toString();
        const url = `${this.configuration.basePath}/api/v1/templates/${queryStr ? '?' + queryStr : ''}`;

        return this.httpClient.request('get', url, {
            headers: localVarHeaders,
            observe: 'body',
            responseType: 'json',
            reportProgress: reportProgress
        }) as Observable<Array<TemplateResponse>>;
    }

    /**
     * Get Template
     * Retrieve details for a specific template.
     * @param templateId UUID of the template.
     */
    public getTemplateApiV1TemplatesTemplateIdGet(
      templateId: string, 
      observe: any = 'body', 
      reportProgress: boolean = false
    ): Observable<TemplateResponse> {
        if (templateId === null || templateId === undefined) {
            throw new Error('Required parameter templateId was null or undefined.');
        }

        let localVarHeaders = this.defaultHeaders;
        localVarHeaders = this.configuration.addCredentialToHeaders('OAuth2PasswordBearer', 'Authorization', localVarHeaders, 'Bearer ');

        return this.httpClient.request('get', `${this.configuration.basePath}/api/v1/templates/${templateId}`, {
            headers: localVarHeaders,
            observe: 'body',
            responseType: 'json', 
            reportProgress: reportProgress
        }) as Observable<TemplateResponse>;
    }
}