/* 
 * Main Stylesheet. 
 * Implements Material Design 3 Styling via Angular Material. 
 */

@use '@angular/material' as mat;

// Base Material Core Styles
@include mat.core();

// -------------------------------------------------------------------------
// 1. CORE VARIABLES (Defaults)
// -------------------------------------------------------------------------
:root {
  // ... (Previous variables remain the same) ...

  --sys-primary: #1565c0;
  --sys-on-primary: #ffffff;
  --sys-primary-container: #dce1ff;
  --sys-on-primary-container: #00164d;

  --sys-secondary: #585e71;
  --sys-on-secondary: #ffffff;
  --sys-secondary-container: #dce2f9;
  --sys-on-secondary-container: #151b2c;

  --sys-tertiary: #735471;
  --sys-on-tertiary: #ffffff;
  --sys-tertiary-container: #ffd7f9;
  --sys-on-tertiary-container: #2b122b;

  --sys-error: #ba1a1a;
  --sys-on-error: #ffffff;
  --sys-error-container: #ffdad6;
  --sys-on-error-container: #410002;
  --sys-warn: #ffa000;
  --sys-success: #2e7d32;

  --sys-background: #fdfbff;
  --sys-surface: #fdfbff;
  --sys-on-surface: #1a1b1f;

  --sys-on-background: #1a1b1f;
  --sys-surface-variant: #e1e2ec;
  --sys-on-surface-variant: #44474f;
  --sys-surface-border: #e1e2ec;
  --sys-outline: #757780;
  --sys-outline-variant: #c4c7d0;

  --sys-text-primary: var(--sys-on-surface);
  --sys-text-secondary: var(--sys-on-surface-variant);

  --sys-hover: rgba(26, 27, 31, 0.08);
  --sys-selected: rgba(21, 101, 192, 0.12);
  --sys-focus: rgba(26, 27, 31, 0.12);

  --chart-color-1: #1565c0;
  --chart-color-2: #585e71;
  --chart-color-3: #735471;
  --chart-neg: #ba1a1a;

  --sys-autofill-bg: #ffffff;
  --sys-autofill-text: #000000;

  /* Scrollbar Thumb Color (Default Light) */
  --sys-scrollbar-thumb: #bdbdbd;
  --sys-scrollbar-track: transparent;
}

// -------------------------------------------------------------------------
// 2. THEME DEFINITIONS
// -------------------------------------------------------------------------
$light-theme: mat.define-theme(
  (
    color: (
      theme-type: light,
      primary: mat.$azure-palette,
      tertiary: mat.$blue-palette,
    ),
  )
);

$dark-theme: mat.define-theme(
  (
    color: (
      theme-type: dark,
      primary: mat.$azure-palette,
      tertiary: mat.$blue-palette,
    ),
  )
);

// Apply Theme to Body
body {
  font-family: Roboto, 'Helvetica Neue', sans-serif;
  margin: 0;
  background-color: var(--sys-background);
  color: var(--sys-text-primary);
  min-height: 100vh;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;

  /* Improve Scrollbar Aesthetics */
  scrollbar-width: thin;
  scrollbar-color: var(--sys-scrollbar-thumb) var(--sys-scrollbar-track);

  &.light-theme {
    @include mat.all-component-themes($light-theme);
  }

  &.dark-theme {
    @include mat.all-component-themes($dark-theme);

    /* In Dark Mode, update generic interaction vars if JS didn't catch them */
    --sys-hover: rgba(255, 255, 255, 0.08);
    --sys-focus: rgba(255, 255, 255, 0.12);
    --sys-scrollbar-thumb: #555555;
  }

  /* Kiosk Mode: Hide scrollbars */
  &.mode-tv {
    ::-webkit-scrollbar {
      width: 0;
      background: transparent;
    }
    scrollbar-width: none;
  }
}

/* Webkit Scrollbar Styling (Chrome/Safari) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--sys-scrollbar-track);
}
::-webkit-scrollbar-thumb {
  background: var(--sys-scrollbar-thumb);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--sys-outline);
}
