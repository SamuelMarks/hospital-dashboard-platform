@use '@angular/material' as mat;

/* 
 * ============================================================================
 * CORE THEME CONFIGURATION
 * ============================================================================
 */
// ... (Existing Theme Code) 
// [Truncated existing content for brevity, appending new styles]

@include mat.core();

$light-primary: mat.m2-define-palette(mat.$m2-blue-palette);
$light-accent:  mat.m2-define-palette(mat.$m2-orange-palette, A200, A100, A400);
$light-warn:    mat.m2-define-palette(mat.$m2-red-palette);

$light-theme: mat.m2-define-light-theme((
  color: (
    primary: $light-primary,
    accent: $light-accent,
    warn: $light-warn,
  ),
  typography: mat.m2-define-typography-config(),
  density: 0
));

$dark-primary: mat.m2-define-palette(mat.$m2-blue-grey-palette, A200);
$dark-accent:  mat.m2-define-palette(mat.$m2-amber-palette, A200, A100, A400);
$dark-warn:    mat.m2-define-palette(mat.$m2-red-palette);

$dark-theme: mat.m2-define-dark-theme((
  color: (
    primary: $dark-primary,
    accent: $dark-accent,
    warn: $dark-warn,
  )
));

// DEFAULT (LIGHT) THEME VARIABLES
:root, body.light-theme {
  @include mat.all-component-themes($light-theme);
  --sys-background: #f5f5f5;
  --sys-surface: #ffffff;
  --sys-surface-border: #e0e0e0;
  --sys-text-primary: rgba(0, 0, 0, 0.87);
  --sys-text-secondary: rgba(0, 0, 0, 0.60);
  --sys-text-hint: rgba(0, 0, 0, 0.38);
  --sys-hover: rgba(0, 0, 0, 0.04);
  --sys-selected: rgba(0, 0, 0, 0.08);
  --sys-focus: rgba(0, 0, 0, 0.12);
  --sys-primary: #{mat.m2-get-color-from-palette($light-primary)};
  --sys-accent: #{mat.m2-get-color-from-palette($light-accent)};
  --sys-warn: #{mat.m2-get-color-from-palette($light-warn)};
  --chart-color-1: #1976d2;
  --chart-color-2: #42a5f5;
  --chart-color-3: #90caf9;
  --chart-neg: #f44336;
  --sys-autofill-bg: #ffffff;
  --sys-autofill-text: #000000;
}

// DARK THEME OVERRIDES
body.dark-theme {
  @include mat.all-component-themes($dark-theme);
  --sys-background: #121212;
  --sys-surface: #1e1e1e;
  --sys-surface-border: #333333;
  --sys-text-primary: rgba(255, 255, 255, 0.87);
  --sys-text-secondary: rgba(255, 255, 255, 0.70);
  --sys-text-hint: rgba(255, 255, 255, 0.38);
  --sys-hover: rgba(255, 255, 255, 0.04);
  --sys-selected: rgba(255, 255, 255, 0.08);
  --sys-focus: rgba(255, 255, 255, 0.12);
  --sys-primary: #{mat.m2-get-color-from-palette($dark-primary)};
  --sys-accent: #{mat.m2-get-color-from-palette($dark-accent)};
  --sys-warn: #{mat.m2-get-color-from-palette($dark-warn)};
  --chart-color-1: #82b1ff;
  --chart-color-2: #448aff;
  --chart-color-3: #2979ff;
  --chart-neg: #ff5252;
  --sys-autofill-bg: #424242;
  --sys-autofill-text: #ffffff;
}

/* 
 * ============================================================================
 * TV KIOSK MODE
 * ============================================================================
 * High-impact overrides for large screen passive viewing.
 */
body.mode-tv {
  /* Scale font base: 1.5x standard size (16px * 1.5 = 24px base) */
  font-size: 1.5rem; 
  
  /* Remove scrollbars for cleaner look on digital signage */
  ::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
  
  /* Increase specific widget areas */
  .mat-headline-2 {
    font-size: 4rem !important; /* Huge metrics */
    font-weight: 700 !important;
  }
  
  .mat-mdc-card-title {
    font-size: 1.5rem !important;
  }
  
  /* Enhance contrast for chart bars */
  .bar, .bar-segment {
    stroke: var(--sys-background);
    stroke-width: 1px;
  }
}

// ... (Rest of existing Utilities)
@media (forced-colors: active) {
  // ... (Existing forced colors logic)
}

html, body { height: 100%; }
body { 
  margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; 
  background-color: var(--sys-background); color: var(--sys-text-primary); 
  transition: background-color 0.3s ease, color 0.3s ease; 
}
// ... (Input resets)
input, textarea, select { 
  background-color: transparent; 
  color: var(--sys-text-primary); 
  border-color: var(--sys-surface-border); 
}
// ... (Helper classes)